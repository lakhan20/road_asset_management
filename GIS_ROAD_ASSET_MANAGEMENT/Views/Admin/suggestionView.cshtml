@{
    Layout = "~/Views/Shared/_Layout2.cshtml";
}

<style>
    #map {
        width: 100%;
        height: 400px;
    }
</style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">

<div class="container-fluid contact py-5">
    <div class="container py-5">
        <div class="section-title mb-5 wow fadeInUp" data-wow-delay="0.1s">
            <div class="sub-style mb-4">
                <h4 class="sub-title text-white px-3 mb-0">Contact Us</h4>
            </div>
            <p class="mb-0 text-black-50" style="font-size:1.5rem;">Connect with us to discuss your requirements, queries, or collaborations. Our team is ready to assist you in achieving your goals. Reach out now for personalized assistance and support.</p>
        </div>
        <div class="row g-4 align-items-center">
            <div class="col-lg-5 col-xl-5 contact-form wow fadeInLeft" data-wow-delay="0.1s">
                <h2 class="display-5 text-white mb-5 text-center">Get in Touch</h2>
                <form>
                    <div class="row g-3">
                        <div class="col-lg-12 col-xl-6">
                            <div class="form-floating">
                                <input type="text" class="form-control bg-transparent border border-white" id="name" placeholder="Your Name">
                                <label for="name">Your Name</label>
                            </div>
                        </div>
                        <div class="col-lg-12 col-xl-6">
                            <div class="form-floating">
                                <input type="email" class="form-control bg-transparent border border-white" id="email" placeholder="Your Email">
                                <label for="email">Your Email</label>
                            </div>
                        </div>
                        <div class="col-lg-12 col-xl-6">
                            <div class="form-floating">
                                <input type="phone" class="form-control bg-transparent border border-white" id="phone" placeholder="Phone">
                                <label for="phone">Your Phone</label>
                            </div>
                        </div>
                        <div class="col-lg-12 col-xl-6">
                            <div class="form-floating">
                                <input type="text" class="form-control bg-transparent border border-white" id="project" placeholder="Project">
                                <label for="project">Project Name</label>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="input-group form-floating">
                                <input type="text" class="form-control bg-transparent border border-white" id="address" placeholder="Address">
                                <label for="address">Current Address</label>
                                <span class="input-group-text open-modal"><i class="bi bi-geo-alt"></i></span>
                            </div>
                        </div>

                        <div class="col-12">
                            <input type="file" class="form-control  bg-transparent border border-white text-white" id="identity1" placeholder="Upload Photo">
                        </div>

                        <div class="col-12">
                            <div class="form-floating">
                                <textarea class="form-control bg-transparent border border-white" placeholder="Leave a message here" id="message" style="height: 160px"></textarea>
                                <label for="message">Message</label>
                            </div>
                        </div>
                        <div class="col-12">
                            <button class="btn btn-light text-primary w-100 py-3">Send Suggestion</button>
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="myModalLabel">Modal Title</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <!-- Map will be loaded here -->
                            <div id="map" class="map"></div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <!-- Add additional buttons if needed -->
                        </div>
                    </div>
                </div>
            </div>


            <!-- Include Bootstrap JS (jQuery dependency) -->
            <script src="https://cdn.jsdelivr.net/npm/ol@v9.1.0/dist/ol.js"></script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
            <!-- Include OpenLayers JS -->

            <script>
                // Function to open modal when span is clicked
                $('.open-modal').click(function () {
                    $('#myModal').modal('show');
                    // Initialize the map when modal is shown
                    
                });

                initMap();
                function initMap() {
                    const layers = [
                        new ol.layer.Tile({
                            source: new ol.source.OSM(),
                        }),
                    ];
                    const map = new ol.Map({
                        layers: layers,
                        target: 'map',
                        view: new ol.View({
                            center: ol.proj.fromLonLat([72.5714, 23.0225]),
                            zoom: 12, // Increased zoom level
                        }),
                    });
                    // Refresh the map after modal is shown to ensure proper rendering
                    map.updateSize();
                }
            </script>


        </div>
    </div>
</div>


